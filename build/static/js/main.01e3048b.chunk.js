(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,a,t){e.exports={DayForecast:"DayForecast__DayForecast__-hash-base-64-5-",DayNmae:"DayForecast__DayNmae__-hash-base-64-5-",DarkDayNmae:"DayForecast__DarkDayNmae__-hash-base-64-5-",LightDayNmae:"DayForecast__LightDayNmae__-hash-base-64-5-",Forecasts:"DayForecast__Forecasts__-hash-base-64-5-",Day:"DayForecast__Day__-hash-base-64-5-",Night:"DayForecast__Night__-hash-base-64-5-",Sun:"DayForecast__Sun__-hash-base-64-5-",Moon:"DayForecast__Moon__-hash-base-64-5-",SunCloud:"DayForecast__SunCloud__-hash-base-64-5-",MoonCloud:"DayForecast__MoonCloud__-hash-base-64-5-",weatherTextDiv:"DayForecast__weatherTextDiv__-hash-base-64-5-"}},,,,,,,function(e,a,t){e.exports={Favorite:"Favorite__Favorite__-hash-base-64-5-",DarkFavorite:"Favorite__DarkFavorite__-hash-base-64-5-",LightFavorite:"Favorite__LightFavorite__-hash-base-64-5-",Temp:"Favorite__Temp__-hash-base-64-5-",WeatherText:"Favorite__WeatherText__-hash-base-64-5-",Label:"Favorite__Label__-hash-base-64-5-"}},,function(e,a,t){e.exports={Dashboard:"Dashboard__Dashboard__-hash-base-64-5-",DarkDashboard:"Dashboard__DarkDashboard__-hash-base-64-5-",LightDashboard:"Dashboard__LightDashboard__-hash-base-64-5-",CurrentCondition:"Dashboard__CurrentCondition__-hash-base-64-5-",WeatherText:"Dashboard__WeatherText__-hash-base-64-5-",FiveDaysForecast:"Dashboard__FiveDaysForecast__-hash-base-64-5-"}},,,,,,function(e,a,t){e.exports={NavigationItem:"NavigationItem__NavigationItem__-hash-base-64-5-",active:"NavigationItem__active__-hash-base-64-5-",DarkNavigationItem:"NavigationItem__DarkNavigationItem__-hash-base-64-5-",LightNavigationItem:"NavigationItem__LightNavigationItem__-hash-base-64-5-"}},function(e,a,t){e.exports={Toolbar:"Toolbar__Toolbar__-hash-base-64-5-",DarkToolbar:"Toolbar__DarkToolbar__-hash-base-64-5-",LightToolbar:"Toolbar__LightToolbar__-hash-base-64-5-",DesktopOnly:"Toolbar__DesktopOnly__-hash-base-64-5-"}},function(e,a,t){e.exports={HeaderButtons:"HeaderButtons__HeaderButtons__-hash-base-64-5-",Buttons:"HeaderButtons__Buttons__-hash-base-64-5-",DarkHeaderButtons:"HeaderButtons__DarkHeaderButtons__-hash-base-64-5-",LightHeaderButtons:"HeaderButtons__LightHeaderButtons__-hash-base-64-5-"}},function(e,a,t){e.exports={AddToFavorites:"AddToFavorites__AddToFavorites__-hash-base-64-5-",AddToFavoritesAnimation:"AddToFavorites__AddToFavoritesAnimation__-hash-base-64-5-",fontbulger:"AddToFavorites__fontbulger__-hash-base-64-5-",AddSentence:"AddToFavorites__AddSentence__-hash-base-64-5-",favoriteIcon:"AddToFavorites__favoriteIcon__-hash-base-64-5-",noFavoriteIcon:"AddToFavorites__noFavoriteIcon__-hash-base-64-5-"}},,function(e,a,t){e.exports={SideDrawer:"SideDrawer__SideDrawer__-hash-base-64-5-",Open:"SideDrawer__Open__-hash-base-64-5-",Close:"SideDrawer__Close__-hash-base-64-5-"}},function(e,a,t){e.exports={Content:"Layout__Content__-hash-base-64-5-",DarkContent:"Layout__DarkContent__-hash-base-64-5-",LightContent:"Layout__LightContent__-hash-base-64-5-"}},function(e,a,t){e.exports={FiveDaysForecast:"FiveDaysForecast__FiveDaysForecast__-hash-base-64-5-",DarkFiveDaysForecast:"FiveDaysForecast__DarkFiveDaysForecast__-hash-base-64-5-",LightFiveDaysForecast:"FiveDaysForecast__LightFiveDaysForecast__-hash-base-64-5-"}},,,,,,,,,,,,,function(e,a,t){e.exports={Search:"Search__Search__-hash-base-64-5-",Input:"Search__Input__-hash-base-64-5-"}},,,function(e,a,t){e.exports={FavoritesList:"FavoritesList__FavoritesList__-hash-base-64-5-",Link:"FavoritesList__Link__-hash-base-64-5-"}},,,function(e,a,t){e.exports={NavigationItems:"NavigationItems__NavigationItems__-hash-base-64-5-"}},function(e,a,t){e.exports={DrawerToggle:"DrawerToggle__DrawerToggle__-hash-base-64-5-"}},function(e,a,t){e.exports={Backdrop:"Backdrop__Backdrop__-hash-base-64-5-"}},function(e,a,t){e.exports={Button:"DegreesButton__Button__-hash-base-64-5-"}},function(e,a,t){e.exports={Button:"ScreenModeButton__Button__-hash-base-64-5-"}},function(e,a,t){e.exports={Li:"Location__Li__-hash-base-64-5-"}},function(e,a,t){e.exports={List:"LocationsList__List__-hash-base-64-5-"}},function(e,a,t){e.exports={CurrentDetails:"currentCondition__CurrentDetails__-hash-base-64-5-"}},,,,function(e,a,t){e.exports={Modal:"Modal__Modal__-hash-base-64-5-"}},,function(e,a,t){e.exports={Loader:"Spinner__Loader__-hash-base-64-5-",load5:"Spinner__load5__-hash-base-64-5-"}},function(e,a,t){e.exports={favoriteList:"Favorites__favoriteList__-hash-base-64-5-"}},,function(e,a,t){e.exports=t(75)},,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},function(e,a,t){},,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(28),s=t.n(o),c=(t(66),t(67),t(68),t(3)),i=function(e){return e.children},u=t(14),l=t(19),h=t.n(l),d=r.a.createContext({setScreenMode:function(){},setDegreesMode:function(){},degrreMode:!0,screenMode:!0}),m=function(e){var a=Object(n.useContext)(d),t=[h.a.NavigationItem,h.a.DarkNavigationItem];return a.screenMode||(t=[h.a.NavigationItem,h.a.LightNavigationItem]),r.a.createElement("li",{className:t.join(" ")},r.a.createElement(u.c,{activeClassName:h.a.active,to:e.link,exact:e.exact},e.children))},v=t(45),_=t.n(v),f=function(e){return r.a.createElement("ul",{className:_.a.NavigationItems},r.a.createElement(m,{link:"/",exact:!0},"Home"),r.a.createElement(m,{link:"/favorites"},"Favorites"))},b=t(46),p=t.n(b),E=r.a.createContext({SideDrawerToggle:function(){}}),y=function(){return r.a.createElement(E.Consumer,null,function(e){return r.a.createElement("div",{className:p.a.DrawerToggle,onClick:e.SideDrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))})},D=t(20),g=t.n(D),F=function(e){var a=[g.a.Toolbar,g.a.DarkToolbar];return e.dark||(a=[g.a.Toolbar,g.a.LightToolbar]),r.a.createElement("header",{className:a.join(" ")},r.a.createElement(y,null),r.a.createElement("nav",{className:g.a.DesktopOnly},r.a.createElement(f,null)))},k=t(47),N=t.n(k),x=function(e){return e.show?r.a.createElement("div",{className:N.a.Backdrop,onClick:e.clicked}):null},w=t(24),T=t.n(w),j=function(e){var a=[T.a.SideDrawer,T.a.Close];return e.open&&(a=[T.a.SideDrawer,T.a.Open]),r.a.createElement(i,null,r.a.createElement("div",null,r.a.createElement(x,{show:e.show,clicked:e.SideDrawerToggle})),r.a.createElement("div",{className:a.join(" "),onClick:e.closed},r.a.createElement("nav",null,r.a.createElement(f,null))))},O=t(48),L=t.n(O),C=function(){return r.a.createElement(d.Consumer,null,function(e){return r.a.createElement("button",{onClick:e.setDegreesMode,className:L.a.Button},"\xb0 ",e.degrreMode?"F":"C")})},S=t(49),M=t.n(S),I=function(){return r.a.createElement(d.Consumer,null,function(e){return r.a.createElement("button",{onClick:e.setScreenMode,className:M.a.Button},e.screenMode?"Light":"Dark")})},A=t(21),B=t.n(A),K=function(e){var a=[B.a.HeaderButtons,B.a.DarkHeaderButtons];return e.dark||(a=[B.a.HeaderButtons,B.a.LightHeaderButtons]),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("div",{className:B.a.Buttons},r.a.createElement(C,null),r.a.createElement(I,null)))},V=t(25),H=t.n(V),W=function(e){var a=Object(n.useState)({openSideDrawer:!1}),t=Object(c.a)(a,2),o=t[0],s=t[1],u=Object(n.useState)({cDegrre:!0}),l=Object(c.a)(u,2),h=l[0],m=l[1],v=Object(n.useState)({darkMode:!0}),_=Object(c.a)(v,2),f=_[0],b=_[1],p=function(){s(function(e){return{openSideDrawer:!e.openSideDrawer}})},y=[H.a.Content,H.a.DarkContent];return f.darkMode||(y=[H.a.Content,H.a.LightContent]),r.a.createElement(i,null,r.a.createElement(d.Provider,{value:{setScreenMode:function(){b(function(e){return{darkMode:!e.darkMode}})},setDegreesMode:function(){m(function(e){return{cDegrre:!e.cDegrre}})},degrreMode:h.cDegrre,screenMode:f.darkMode}},r.a.createElement("div",null,r.a.createElement(E.Provider,{value:{SideDrawerToggle:p}},r.a.createElement(F,{dark:f.darkMode})),r.a.createElement(K,{dark:f.darkMode}),r.a.createElement(j,{show:o.openSideDrawer,SideDrawerToggle:p,open:o.openSideDrawer,closed:p})),r.a.createElement("main",{className:y.join(" ")},e.children)))},P=t(12),R=t(1),U=t.n(R),z=t(7),J=t(30),q=t(31),G=t(33),X=t(32),Y=t(34),Z="GLpA001hpXnc17HjfNvrjJqhhN0O5wPZ",$=function(){var e=Object(z.a)(U.a.mark(function e(a){var t,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(Z,"&q=").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(z.a)(U.a.mark(function e(a,t){var n,r,o,s,c,i;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/currentconditions/v1","/").concat(t,"?apikey=").concat(Z));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,o=a?r[0].Temperature.Metric:r[0].Temperature.Imperial,s=o.Value,c=o.Unit,i=r[0].WeatherText,e.abrupt("return",{Value:s,Unit:c,WeatherText:i});case 9:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();function ee(){return(ee=Object(z.a)(U.a.mark(function e(a,t){var n,r,o,s,c,i,u,l;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,o=!1,s=void 0,e.prev=4,c=t[Symbol.iterator]();case 6:if(r=(i=c.next()).done){e.next=15;break}return u=i.value,e.next=10,Q(a,u.id);case 10:l=e.sent,n.push({id:u.id,name:u.name,temp:l.Value,weatherText:l.WeatherText,unit:l.Unit});case 12:r=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,r||null==c.return||c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}},e,null,[[4,17,21,29],[22,,24,28]])}))).apply(this,arguments)}var ae=function(){var e=Object(z.a)(U.a.mark(function e(a,t){var n,r,o,s;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/forecasts/v1/daily/5day/","/").concat(t,"?apikey=").concat(Z));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,o=r.DailyForecasts,s=te(a,o),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();function te(e,a){var t=[];return a.forEach(function(a){t.push({dayName:ne(a.Date),day:{temp:e?re(a.Temperature.Maximum.Value):a.Temperature.Maximum.Value,weatherText:a.Day.IconPhrase},night:{temp:e?re(a.Temperature.Minimum.Value):a.Temperature.Minimum.Value,weatherText:a.Night.IconPhrase},unit:e?"C":"F"})}),t}function ne(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]}function re(e){var a=5*(e-32)/9;return Math.floor(a)}var oe=t(50),se=t.n(oe),ce=r.a.createContext({setSearchList:function(){}}),ie=r.a.createContext({setLocation:function(){},setError:function(){}}),ue=function(e){var a=Object(n.useContext)(ce),t=Object(n.useContext)(ie);return r.a.createElement("li",{className:se.a.Li,onClick:function(){a.setSearchList(null),t.setLocation({name:e.locationName,key:e.locationKey})}},e.locationName)},le=t(51),he=t.n(le),de=function(e){return r.a.createElement("ul",{className:he.a.List},e.locations.map(function(e){return r.a.createElement(ue,{key:e.Key,locationName:"".concat(e.LocalizedName,",").concat(e.Country.LocalizedName),locationKey:e.Key})}))},me=t(39),ve=t.n(me);var _e=function(e){var a=Object(n.useContext)(ie),t=Object(n.useState)({locationsList:null}),o=Object(c.a)(t,2),s=o[0],i=o[1],u=Object(n.useState)({value:""}),l=Object(c.a)(u,2),h=l[0],d=l[1];Object(n.useEffect)(function(){d({value:e.name})},[e.name]);var m=function(){var e=Object(z.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!t){e.next=12;break}return e.prev=2,e.next=5,$(t);case 5:n=e.sent,i({locationsList:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setError("An error occurred while trying to get locations");case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(a){return e.apply(this,arguments)}}(),v=null;return s.locationsList&&(v=r.a.createElement(de,{locations:s.locationsList})),r.a.createElement("div",{className:ve.a.Search},r.a.createElement("input",{className:ve.a.Input,type:"text",placeholder:"Search Location...",onChange:function(e){return function(e){var a=e.target.value;/^[ a-z, A-Z ]*$/.test(a)&&" "!==a&&(d({value:a}),m(a))}(e)},value:h.value}),r.a.createElement(ce.Provider,{value:{setSearchList:function(e){i({locationsList:e})}}},v))},fe=t(52),be=t.n(fe),pe=function(e){return r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",{className:be.a.CurrentDetails},r.a.createElement("label",null,e.name),r.a.createElement("label",null,e.temp,"\xb0 ",e.unit)))},Ee=t(53),ye=t.n(Ee),De=t(22),ge=t.n(De),Fe=function(e){var a=Object(n.useState)({isAnimate:null}),t=Object(c.a)(a,2),o=t[0],s=t[1],i=ge.a.noFavoriteIcon;e.isFavorite&&(i=ge.a.favoriteIcon);var u=[ge.a.AddToFavorites];return o.isAnimate&&(u=[ge.a.AddToFavorites,ge.a.AddToFavoritesAnimation].join(" ")),r.a.createElement("div",{className:u},r.a.createElement("div",null,r.a.createElement(ye.a,{className:i,onClick:function(){s({isAnimate:!e.isFavorite}),e.addToFavoritesToggle(e.isFavorite)}})))},ke=t(13),Ne=t.n(ke),xe=t(4),we=t.n(xe),Te=t(54),je=t.n(Te),Oe=t(55),Le=t.n(Oe),Ce=t(40),Se=t.n(Ce),Me=function(e){var a=Object(n.useContext)(d),t=[we.a.DayNmae,we.a.DarkDayNmae];return a.screenMode||(t=[we.a.DayNmae,we.a.LightDayNmae]),r.a.createElement("div",{className:we.a.DayForecast},r.a.createElement("div",{className:t.join(" ")},e.dayName),r.a.createElement("div",{className:we.a.Forecasts},r.a.createElement("div",{className:we.a.Day},r.a.createElement("label",null,"Day"),r.a.createElement("div",null,r.a.createElement(je.a,{className:we.a.Sun}),r.a.createElement(Se.a,{className:we.a.SunCloud})),r.a.createElement("label",null,e.tempDay,"\xb0 ",e.unit),r.a.createElement("div",{className:we.a.weatherTextDiv},r.a.createElement("label",null,e.weatherTextDay))),r.a.createElement("div",{className:we.a.Night},r.a.createElement("label",null,"Night"),r.a.createElement("div",null,r.a.createElement(Le.a,{className:we.a.Moon}),r.a.createElement(Se.a,{className:we.a.MoonCloud})),r.a.createElement("label",null,e.tempNight,"\xb0 ",e.unit),r.a.createElement("div",{className:we.a.weatherTextDiv},r.a.createElement("label",null,e.weatherTextNight)))))},Ie=t(26),Ae=t.n(Ie),Be=function(e){var a=e.fiveDayForecast.map(function(e){return r.a.createElement(Me,{key:e.dayName,dayName:e.dayName,tempDay:e.day.temp,weatherTextDay:e.day.weatherText,tempNight:e.night.temp,weatherTextNight:e.night.weatherText,unit:e.unit})}),t=[Ae.a.FiveDaysForecast,Ae.a.DarkFiveDaysForecast];return e.dark||(t=[Ae.a.FiveDaysForecast,Ae.a.LightFiveDaysForecast]),r.a.createElement("div",{className:t.join(" ")},a)},Ke=t(56),Ve=t.n(Ke),He=function(e){function a(){return Object(J.a)(this,a),Object(G.a)(this,Object(X.a)(a).apply(this,arguments))}return Object(Y.a)(a,e),Object(q.a)(a,[{key:"shouldComponentUpdate",value:function(e,a){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(i,null,r.a.createElement(x,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:Ve.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(n.Component),We=function(e){var a=Object(n.useContext)(d),t=Object(n.useState)({curentConditions:{},fiveDaysForecast:[]}),o=Object(c.a)(t,2),s=o[0],i=o[1],u=Object(n.useState)({isFavorite:null}),l=Object(c.a)(u,2),h=l[0],m=l[1],v=Object(n.useState)({error:!1,errorMassage:""}),_=Object(c.a)(v,2),f=_[0],b=_[1];Object(n.useEffect)(function(){e.getFavorites()},[]),Object(n.useEffect)(function(){if(e.locationKey){var t=[Q(a.degrreMode,e.locationKey),ae(a.degrreMode,e.locationKey)];Promise.all(t).then(function(e){i({curentConditions:e[0],fiveDaysForecast:e[1]})}).catch(function(e){b({error:!0,errorMassage:"An error occurred while trying to get location data."})})}},[a.degrreMode,e.locationKey]),Object(n.useEffect)(function(){if(e.favorites&&e.locationKey){var a=(t=e.locationKey,-1!==e.favorites.findIndex(function(e){return e.id===t}));m({isFavorite:a})}var t},[e.locationKey,e.favorites]);var p=[Ne.a.Dashboard,Ne.a.DarkDashboard];a.screenMode||(p=[Ne.a.Dashboard,Ne.a.LightDashboard]);var E=null;return f.error&&(E=r.a.createElement(He,{show:f.error,modalClosed:function(){b({error:!1,errorMassage:""})}},f.errorMassage)),r.a.createElement("div",{className:p.join(" ")},E,r.a.createElement("div",{className:Ne.a.CurrentCondition},r.a.createElement(pe,{name:e.locationName,temp:s.curentConditions.Value,unit:s.curentConditions.Unit}),r.a.createElement(Fe,{isFavorite:h.isFavorite,addToFavoritesToggle:function(a){return function(a){if(a)e.removeFromFavorites(e.locationKey);else{var t={id:e.locationKey,name:e.locationName};e.addFavorites(t)}}(a)}})),r.a.createElement("div",{className:Ne.a.WeatherText},r.a.createElement("label",null,s.curentConditions.WeatherText)),r.a.createElement("div",{className:Ne.a.FiveDaysForecast},r.a.createElement(Be,{dark:a.screenMode,fiveDayForecast:s.fiveDaysForecast})))},Pe=t(16),Re=t(18),Ue=function(){return function(e){fetch("https://weather-globe.firebaseio.com/favorites.json").then(function(e){return e.json()}).then(function(a){var t=[];for(var n in a)t.push(Object(Re.a)({},a[n]));e(function(e){return{type:"GET_FAVORITES",favorites:e}}(t))}).catch(function(e){console.log("addFavorite Error:",e)})}},ze=Object(Pe.b)(function(e,a){return{favorites:e.favoritesReducer.favorites,locationName:a.locationName,locationKey:a.locationKey}},function(e){return{addFavorites:function(a){return e((t=a,function(e){fetch("https://weather-globe.firebaseio.com/favorites/".concat(t.id,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(a){e({type:"ADD_FAVORITE_SUCCESS",location:a})}).catch(function(e){console.log("addFavorite Error:",e)})}));var t},getFavorites:function(){return e(Ue())},removeFromFavorites:function(a){return e(function(e){return function(a){fetch("https://weather-globe.firebaseio.com/favorites/".concat(e,".json"),{method:"DELETE"}).then(function(t){return a(function(e){return{type:"REMOVE_FAVORITE_SUCCESS",id:e}}(e))}).catch(function(e){return console.error(e)})}}(a))}}})(We);var Je=function(){var e=Object(z.a)(U.a.mark(function e(){var a,t,n,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,a){navigator.geolocation.getCurrentPosition(e,a)});case 2:return a=e.sent,t=a.coords,n=t.latitude,r=t.longitude,e.abrupt("return",{lat:n,long:r});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(z.a)(U.a.mark(function e(a,t){var n,r,o,s;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search","?apikey=").concat(Z,"&q=").concat(a,",").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,o=r.Key,s=r.LocalizedName,e.abrupt("return",{name:s,key:o});case 8:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),Ge=function(e){function a(){var e,t;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(G.a)(this,(e=Object(X.a)(a)).call.apply(e,[this].concat(r)))).state={location:{name:"",key:null},error:!1,errorMassage:""},t.setLocation=function(e){var a={name:e.name.split(",")[0],key:e.key};t.setState({location:a})},t.setError=function(e){t.setState({error:!0,errorMassage:e})},t.modalClosed=function(){t.setState({error:!1})},t}return Object(Y.a)(a,e),Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=Object(z.a)(U.a.mark(function e(){var a,t,n,r,o,s,c,i,u;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.match.params,t=a.key,n=a.name,!t||!n){e.next=6;break}r={name:n,key:t},this.setState({location:r}),e.next=21;break;case 6:return e.prev=6,e.next=9,Je();case 9:return o=e.sent,e.next=12,qe(o.lat,o.long);case 12:s=e.sent,c=s.name,i=s.key,u={name:c,key:i},this.setState({location:u,error:!1,errorMassage:""}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),this.setError("An error occurred while trying to get your current location");case 21:case"end":return e.stop()}},e,this,[[6,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.location,a=e.name,t=e.key,n=null;return this.state.error&&(n=r.a.createElement(He,{show:this.state.error,modalClosed:this.modalClosed},this.state.errorMassage)),r.a.createElement(i,null,n,r.a.createElement(ie.Provider,{value:{setLocation:this.setLocation,setError:this.setError}},r.a.createElement(_e,{name:a})),r.a.createElement(ze,{locationName:a,locationKey:t}))}}]),a}(n.Component),Xe=t(42),Ye=t.n(Xe),Ze=t(11),$e=t.n(Ze),Qe=function(e){var a=Object(n.useContext)(d),t=[$e.a.Favorite,$e.a.DarkFavorite];return a.screenMode||(t=[$e.a.Favorite,$e.a.LightFavorite]),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:$e.a.Temp},r.a.createElement("label",{className:$e.a.Label},e.name),r.a.createElement("label",{className:$e.a.Label},e.temp,"\xb0 ",e.unit)),r.a.createElement("div",null,r.a.createElement("label",{className:$e.a.WeatherText},e.weatherText)))},ea=function(e){var a=e.favoritesList.map(function(e){return r.a.createElement(u.b,{className:Ye.a.Link,to:"/".concat(e.id,"/").concat(e.name),key:e.id},r.a.createElement(Qe,{name:e.name,locationKey:e.id,temp:e.temp,weatherText:e.weatherText,unit:e.unit}))});return r.a.createElement("div",{className:Ye.a.FavoritesList},a)},aa=t(58),ta=t.n(aa),na=function(){return r.a.createElement("div",{className:ta.a.Loader},"Loading...")},ra=t(59),oa=t.n(ra),sa=function(e){var a=Object(n.useContext)(d),t=Object(n.useState)({favoritesList:null}),o=Object(c.a)(t,2),s=o[0],i=o[1],u=Object(n.useState)({error:!1,errorMassage:""}),l=Object(c.a)(u,2),h=l[0],m=l[1];Object(n.useEffect)(function(){e.getFavorites()},[]),Object(n.useEffect)(function(){e.favorites&&function(e,a){return ee.apply(this,arguments)}(a.degrreMode,e.favorites).then(function(e){i({favoritesList:e})}).catch(function(e){m({error:!0,errorMassage:"An error occurred while trying to get Your favorits List."})})},[a.degrreMode,e.favorites]);var v=null;h.error&&(v=r.a.createElement(He,{show:h.error,modalClosed:function(){m({error:!1,errorMassage:""})}},h.errorMassage));var _=r.a.createElement(na,null);return s.favoritesList&&(_=r.a.createElement(ea,{favoritesList:s.favoritesList})),r.a.createElement("div",null,v,r.a.createElement("div",{className:oa.a.favoriteList},_))},ca=Object(Pe.b)(function(e){return{favorites:e.favoritesReducer.favorites}},function(e){return{getFavorites:function(){return e(Ue())}}})(sa),ia=Object(P.f)(function(){var e=r.a.createElement(P.c,null,r.a.createElement(P.a,{path:"/",exact:!0,component:Ge}),r.a.createElement(P.a,{path:"/favorites",component:ca}),r.a.createElement(P.a,{path:"/:key/:name",exact:!0,component:Ge}));return r.a.createElement(W,null,e)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ua=t(15),la=t(60),ha={favorites:null},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_FAVORITES":return function(e,a){return Object(Re.a)({},e,{favorites:a.favorites})}(e,a);case"ADD_FAVORITE_SUCCESS":return function(e,a){return Object(Re.a)({},e,{favorites:e.favorites.concat(a.location)})}(e,a);case"REMOVE_FAVORITE_SUCCESS":return function(e,a){var t=e.favorites.filter(function(e){return e.id!==a.id});return Object(Re.a)({},e,{favorites:t})}(e,a);default:return e}},ma=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ua.d,va=Object(ua.c)({favoritesReducer:da}),_a=Object(ua.e)(va,ma(Object(ua.a)(la.a))),fa=r.a.createElement(Pe.a,{store:_a},r.a.createElement(u.a,null,r.a.createElement(ia,null)));s.a.render(fa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[61,1,2]]]);
//# sourceMappingURL=main.01e3048b.chunk.js.map